!function(t){t.fn.lazy=function(o){var a=this.selector,e={rootMargin:(o=t.extend({sourceAttribute:"data-src",viewportMarginTop:0,viewportMarginRight:0,viewportMarginBottom:200,viewportMarginLeft:0,threshold:0,live:!0},o)).viewportMarginTop+"px "+o.viewportMarginRight+"px "+o.viewportMarginBottom+"px "+o.viewportMarginLeft+"px",threshold:o.threshold},n=new IntersectionObserver(function(a,e){a.forEach(a=>{a.isIntersecting&&(!function(a){var e=t(a).attr(o.sourceAttribute),n=t(a).prop("tagName");e&&("IMG"==n||"IFRAME"==n?(t(a).attr("src",e),t(a).addClass("lazy-loaded")):(t(a).addClass("lazy-loading"),t(a).load(e,function(){t(a).removeClass("lazy-loading").addClass("lazy-loaded"),o.live&&r(),t(document).trigger("lazycontentloaded")})))}(a.target),e.unobserve(a.target))})},e);function r(){t(a).not(".lazy-watching").not(".lazy-loading").not(".lazy-loaded").each(function(o,a){!function(o){n.observe(o),function(o){t(o).addClass("lazy-watching")}(o)}(a)})}return r(),this}}(window.jQuery);
